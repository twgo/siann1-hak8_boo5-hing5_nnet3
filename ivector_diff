diff --git a/egs/formosa/s5/local/nnet3/run_ivector_common.sh b/egs/formosa/s5/local/nnet3/run_ivector_common.sh
index a02461a..ab31605 100755
--- a/egs/formosa/s5/local/nnet3/run_ivector_common.sh
+++ b/egs/formosa/s5/local/nnet3/run_ivector_common.sh
@@ -35,7 +35,10 @@ if [ $stage -le 1 ]; then
   # Although the nnet will be trained by high resolution data, we still have to
   # perturb the normal data to get the alignment _sp stands for speed-perturbed
   echo "$0: preparing directory for low-resolution speed-perturbed data (for alignment)"
-  utils/data/perturb_data_dir_speed_3way.sh data/${train_set} data/${train_set}_sp
+  utils/data/perturb_data_dir_speed_3way.sh data/${train_set} data/${train_set}__sp
+  utils/data/copy_data_dir.sh data/${train_set}__sp data/${train_set}__sp_vp
+  utils/data/perturb_data_dir_volume.sh data/${train_set}__sp_vp
+  ln -s ${train_set}__sp_vp data/${train_set}_sp
   echo "$0: making MFCC features for low-resolution speed-perturbed data"
   steps/make_mfcc_pitch.sh --cmd "$train_cmd" --nj 70 data/${train_set}_sp \
     exp/make_mfcc/${train_set}_sp mfcc_perturbed || exit 1;
@@ -142,11 +145,6 @@ if [ $stage -le 6 ]; then
 
   # Also extract iVectors for the test data, but in this case we don't need the speed
   # perturbation (sp).
-  for data in $test_sets; do
-    steps/online/nnet2/extract_ivectors_online.sh --cmd "$train_cmd" --nj 8 \
-      data/${data}_hires_nopitch exp/nnet3${nnet3_affix}/extractor \
-      exp/nnet3${nnet3_affix}/ivectors_${data}
-  done
 fi
 
 exit 0
